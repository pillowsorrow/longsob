var vid;let video_playbackRate=localStorage.getItem("playbackRate")||1,video_muted="unmuted"!=localStorage.getItem("muted");try{(vid=document.getElementById("lessonvideo")).currentTime=video_currentTime,vid.playbackRate=video_playbackRate,vid.muted=video_muted,vid.requestPictureInPicture}catch(e){}function seektimeupdate(e){var t=Math.floor(e.currentTime/60),a=Math.floor(e.currentTime-60*t),i=Math.floor(e.duration/60),o=Math.floor(e.duration-60*i),n=document.getElementById("seekslider"),i=(a<10&&(a="0"+a),o<10&&(o="0"+o),t<10&&(t="0"+t),i<10&&(i="0"+i),curtimetext.innerHTML=t+":"+a,durtimetext.innerHTML=i+":"+o,$("#seekslider").prop("title",t+":"+a),e.currentTime*(100/e.duration));n.value=i}function setRange(e){e=e*vid.duration/100;vid.currentTime=e,$.ajax({url:local_api+"switcher/updatevidtime/"+vid.currentTime,method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+access_token},data:JSON.stringify({ProfileID:getCookie("cookieProfileID"),pageID:pageID,lessonID:lessonID})}).fail(function(){refreshtoken()})}function setBack(e){vid.played.end(0)>e&&(e=e*vid.duration/100,vid.currentTime=e,$.ajax({url:local_api+"switcher/updatevidtime/"+vid.currentTime,method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+access_token},data:JSON.stringify({ProfileID:getCookie("cookieProfileID"),pageID:pageID,lessonID:lessonID})}).fail(function(){refreshtoken()}))}function butPlay(){vid.play(),$(".iconPlay").toggleClass("fas fa-play fas fa-pause"),$(".btnplay").hide()}function butMute(){1==vid.muted?(vid.muted=!1,localStorage.setItem("muted","unmuted")):(vid.muted=!0,localStorage.setItem("muted","muted")),$.ajax({url:local_api+"switcher/videomuted/"+vid.muted,headers:{"Content-Type":"application/json",Authorization:"Bearer "+access_token}}),$(".iconMute").toggleClass("fas fa-volume-mute fas fa-volume-up")}function butSpeed2x(){1==vid.playbackRate?($(".iconSpeed2x").text("1x"),vid.playbackRate=1.5,localStorage.setItem("playbackRate",1.5)):($(".iconSpeed2x").text("2x"),vid.playbackRate=1,localStorage.setItem("playbackRate",1)),$.ajax({url:local_api+"switcher/videospeed/"+vid.playbackRate,headers:{"Content-Type":"application/json",Authorization:"Bearer "+access_token}})}function butFullscreen(){vid.mozRequestFullScreen?vid.mozRequestFullScreen():vid.webkitRequestFullScreen&&vid.webkitRequestFullScreen()}function butPause(){vid.pause(),$(".iconPlay").toggleClass("fas fa-play fas fa-pause"),$(".btnplay").show(),$.ajax({url:local_api+"switcher/updatevidtime/"+vid.currentTime,method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+access_token},data:JSON.stringify({ProfileID:getCookie("cookieProfileID"),pageID:pageID,lessonID:lessonID})}).fail(function(){refreshtoken()})}function butReplay(){vid.currentTime=.1,$(".btnplay").hide(),$.ajax({url:local_api+"switcher/updatevidtime/"+vid.currentTime,method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+access_token},data:JSON.stringify({ProfileID:getCookie("cookieProfileID"),pageID:pageID,lessonID:lessonID})}).fail(function(){refreshtoken()}),vid.play()}function PlayPause(e){(e.paused?butPlay:butPause)()}function PlayPauseButton(){(vid.paused?butPlay:butPause)()}$(document).ready(function(){1.5==video_playbackRate&&$(".iconSpeed2x").text("1x"),"muted"==localStorage.getItem("muted")&&$(".iconMute").removeClass("fa-volume-up").addClass("fa-volume-mute")});var ie=msieversion();function msieversion(){var e=!1;return e=0<window.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv\:11\./)?!0:e}function Modalurl(e,t,a){}