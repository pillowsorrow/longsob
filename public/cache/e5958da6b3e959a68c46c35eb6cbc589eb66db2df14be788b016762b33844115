async function feedPage(){await provinces_feed(),$("#province_id").on("change",function(){district_feed($(this).val())}),$("#district_id").on("change",function(){subdistrict_feed($(this).val())}),$('input[name="id_card_type"]').on("change",function(){var t=$('input[name="id_card_type"]:checked').attr("id"),i=$('input[name="id_card_type"]:checked').val(),t=$('label[for="'+t+'"]').text();3==i?$("#inputIDCard input, #inputIDCard select").addClass("display_title"):$("#inputIDCard input, #inputIDCard select").removeClass("display_title"),$('label[for="citizen_id"]').text(t),$("#citizen_id").attr("placeholder",t)}),$("#password , #confirm_password").on("blur",function(){$("#password").val().trim()!=$("#confirm_password").val().trim()?$("#confirm_password").get(0).setCustomValidity("Password Must be Matching."):$("#confirm_password").get(0).setCustomValidity("")})}function provinces_feed(){$.ajax({url:local_api+"web/provinces",method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+access_token},data:JSON.stringify({lang:$("html").attr("lang"),project:$('meta[name="api_project"]').attr("content")})}).done(function(i){if((fail=0)<i.total){var t=$("#province_id").find("option").eq(0);$("#province_id").empty(),$("#province_id").append(t);for(let t=0;t<i.total;t++)$("#province_id").append($("<option></option>",{value:i.data[t].provinces_id,text:i.data[t].provinces_name}));t=$("#district_id").find("option").eq(0),$("#district_id").empty(),$("#district_id").append(t),t=$("#subdistrict_id").find("option").eq(0),$("#subdistrict_id").empty(),$("#subdistrict_id").append(t)}}).fail(async function(){fail<3&&(await refreshtoken(),await provinces_name(),fail++)})}function district_feed(t){$.ajax({url:local_api+"web/districts",method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+access_token},data:JSON.stringify({lang:$("html").attr("lang"),province:t,project:$('meta[name="api_project"]').attr("content")})}).done(function(i){fail=0;var t=$("#district_id").find("option").eq(0);$("#district_id").empty(),$("#district_id").append(t);for(let t=0;t<i.total;t++)$("#district_id").append($("<option></option>",{value:i.data[t].districts_id,text:i.data[t].districts_name}));t=$("#subdistrict_id").find("option").eq(0),$("#subdistrict_id").empty(),$("#subdistrict_id").append(t)}).fail(async function(){fail<3&&(await refreshtoken(),await district_feed(t),fail++)})}function subdistrict_feed(t){$.ajax({url:local_api+"web/subdistricts",method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+access_token},data:JSON.stringify({lang:$("html").attr("lang"),district:t,project:$('meta[name="api_project"]').attr("content")})}).done(function(i){fail=0;var t=$("#subdistrict_id").find("option").eq(0);$("#subdistrict_id").empty(),$("#subdistrict_id").append(t);for(let t=0;t<i.total;t++)$("#subdistrict_id").append($("<option></option>",{value:i.data[t].subdistricts_id,text:i.data[t].subdistricts_name}))}).fail(async function(){fail<3&&(await refreshtoken(),await subdistrict_feed(t),fail++)})}